@page "/"
@page "/storage/{storage}"

@using asplib.Model
@using iselenium.Components

<PageTitle>asp.blazor Server Side SMC Calculator</PageTitle>

<CalculatorComponent @ref="calculator" StorageLinkUrl="triptych" StorageLinkClientID="triptychLink" />

<TestButton testproject="asptest.blazor" />

@code {
    CalculatorComponent? calculator;

    [Parameter]
    public string? Storage { get; set; }

    protected override void OnParametersSet()
    {
        if (Storage != null) // only override the static StorageImplementation.SessionStorage if one is given
        {
            StorageImplementation.SetStorage(Storage);
        }
    }
}